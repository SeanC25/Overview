@model APG_CRM.Data.Entities.Glass

@{
    ViewData["Title"] = "Delete Glass";
}

<div class="custom-card-background">

     <div class="d-flex justify-content-center">
         <div class="custom-card-inner">

        <partial name="_BreadCrumbs" model=@(new [] { ("/", "Home"), ("/Glass", "Glass"), ("", "Delete Glass ") }) />

        <div class="card rounded shadow p-4">

            <h1 class="page-header">@ViewData["Title"] </h1>

            <!-- Highlighting criticality -->
            <div class="alert alert-danger" role="alert">
                <strong>Warning!</strong> Are you sure you want to delete this glass? 
            </div>

            <!-- Glass Details -->
            <table class="table">
                <tbody>
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.Type)</th>
                        <td>@Model.Type</td>
                    </tr>
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.Name)</th>
                        <td>@Model.Name</td>
                    </tr>
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.Thickness)</th>
                        <td>@Model.Thickness</td>
                    </tr>
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.SheetSizeL)</th>
                        <td>@Model.SheetSizeL</td>
                    </tr>
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.SheetSizeH)</th>
                        <td>@Model.SheetSizeH</td>
                    </tr>
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.PricePerSheet)</th>
                        <td>@Model.PricePerSheet</td>
                    </tr>
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.BoxSheetQuantity)</th>
                        <td>@Model.BoxSheetQuantity</td>
                    </tr>
                    <tr>
                        <th>@Html.DisplayNameFor(model => model.SupplierId)</th>
                        <td>@Model.SupplierId</td>
                    </tr>
                </tbody>
            </table>

            <!-- Partial used for images Image --->
            <partial name="_GlassImage" />


            <!-- Delete Modal -->
            <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Confirm Delete</h5>
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                        </div>
                        <div class="modal-body">
                            Are you sure you want to delete this glass?
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                            <form asp-action="DeleteConfirmed" method="post">
                                <input type="hidden" asp-for="Id" />
                                <button type="submit" class="btn btn-danger">Delete</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Delete button to trigger modal -->
            <button class="btn btn-danger" data-toggle="modal" data-target="#deleteModal">Delete Glass</button>
            <button asp-action="Index" class="btn btn-secondary">Cancel</button>

            <!-- Toast Notification for feedback (placed it at the bottom to ensure it doesn't disrupt the layout) -->
            <div class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="toast-header">
                    <strong class="mr-auto">Notification</strong>
                    <button type="button" class="ml-2 mb-1 close" data-dismiss="toast">&times;</button>
                </div>
                <div class="toast-body">
                    Glass successfully deleted.
                </div>
            </div>


        </div>


    </div>


     </div>


</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            // Show the toast after a delete
        @if (TempData["isDeleted"] != null && (bool)TempData["isDeleted"] == true)
        {
            <text>
                        $('.toast').toast('show');
            </text>
        }
                                        });
    </script>
}
