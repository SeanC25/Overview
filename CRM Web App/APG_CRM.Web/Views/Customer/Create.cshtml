@model CreateCustomerViewModel

@{
    ViewData["Title"] = "Create New Customer";
}

<div class="custom-card-background">  
    <div class="d-flex justify-content-center">
        <div class="custom-card-inner">
            <div class="card rounded shadow p-4">
                 <!-- breadcrumb partial -->
                    <partial name="_BreadCrumbs" model=@(new [] { ("/", "Home"), ("/Customer", "Customers"), ("", "Create New Customer") }) />

                <h1 class="page-header">@ViewData["Title"]</h1>
                
                <form asp-action="Create">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    
                    <div class="row">
                        <!-- Left Column -->
                        <div class="col-md-6">
                            <!-- Customer Information Card -->
                            <div class="card mb-3">
                                <div class="card-header">Customer Information</div>
                                <div class="card-body">
                                    <!-- DateEstablished -->

                                <div class="form-group">
                                <label asp-for="DateEstablished" class="form-label">Customer Business Contact since:</label>
                                    <input asp-for="DateEstablished" type="date" class="form-control"
                                    placeholder="Enter the date when the contact was first made"
                                    value="@Model.DateEstablished.ToString("yyyy-MM-dd")" />
                                    <span asp-validation-for="DateEstablished" class="text-danger"></span>
                                </div>

                                    <!-- Name -->
                                    <div class="form-group">
                                        <label asp-for="Name" class="form-label">Customer Name</label>
                                        <input asp-for="Name" class="form-control" placeholder="Name of the Customer" />
                                        <span asp-validation-for="Name" class="text-danger"></span>
                                    </div>

                                            <!-- Type -->
                                    <div class="form-group">
                                        <label class="d-block">Customer Type:</label>
                                        <!-- Radio button for Individual -->
                                        <div class="form-check">
                                            <input type="radio" id="individual" name="Type" value="Individual" class="form-check-input" @(Model.Type == "Individual" ? "checked" : "")>
                                            <label class="form-check-label" for="individual">Individual</label>
                                        </div>
                                        <!-- Radio button for Company -->
                                        <div class="form-check">
                                            <input type="radio" id="company" name="Type" value="Company" class="form-check-input" @(Model.Type == "Company" ? "checked" : "")>
                                            <label class="form-check-label" for="company">Company</label>
                                        </div>
                                        <!-- Radio button for Contracted -->
                                        <div class="form-check">
                                            <input type="radio" id="contracted" name="Type" value="Contracted" class="form-check-input" @(Model.Type == "Contracted" ? "checked" : "")>
                                            <label class="form-check-label" for="contracted">Contracted</label>
                                        </div>
                                        <span asp-validation-for="Type" class="text-danger"></span>
                                    </div>
                                    
                                </div>
                                
                            </div>
                            
                        </div>

                        <!-- Right Column -->
                        <div class="col-md-6">
                            <!-- Address Information Card -->
                            <div class="card mb-3">
                                <div class="card-header">Address Information</div>
                                    <div class="card-body">
                                    <!-- Streets -->
                                        <div class="form-group">
                                            <label asp-for="Street" class="form-label">Street</label>
                                            <input asp-for="Street" class="form-control" placeholder="Street Address" />
                                            <span asp-validation-for="Street" class="text-danger"></span>
                                        </div>

                                        <!-- City -->
                                        <div class="form-group">
                                            <label asp-for="City" class="form-label">City</label>
                                            <input asp-for="City" class="form-control" placeholder="City" />
                                            <span asp-validation-for="City" class="text-danger"></span>
                                        </div>

                                        <!-- County -->
                                        <div class="form-group">
                                            <label for="countyInput" class="form-label">County</label>
                                            <input list="counties" id="countyInput" asp-for="County" class="form-control"
                                                placeholder="Type or select a county">
                                                <datalist id="counties">
                                                        <option value="Antrim"></option>
                                                        <option value="Down"></option>
                                                        <option value="Armagh"></option>
                                                        <option value="Derry/Londonderry"></option>
                                                        <option value="Tyrone"></option>
                                                        <option value="Fermanagh"></option>
                                                </datalist>
                                                <span asp-validation-for="County" class="text-danger"></span>
                                        </div>

                                        <!-- PostCode -->
                                        <div class="form-group">
                                            <label asp-for="PostCode" class="form-label">Post Code</label>
                                            <input asp-for="PostCode" class="form-control" placeholder="Post Code" />
                                            <span asp-validation-for="PostCode" class="text-danger"></span>
                                        </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Information Card -->
                    <div class="card mb-3">
                        <div class="card-header">Contact Information</div>
                        <div class="card-body">
                                    <!-- Phone -->
                                <div class="form-group mt-3">
                                    <label asp-for="Phone" class="form-label">Telephone Number</label>
                                    <input asp-for="Phone" class="form-control" placeholder="Phone Number" />
                                    <span asp-validation-for="Phone" class="text-danger"></span>
                                </div>

                                <!-- Email -->
                                <div class="form-group mt-3">
                                    <label asp-for="Email" class="form-label">Email</label>
                                    <input asp-for="Email" class="form-control" placeholder="Email Address" />
                                    <span asp-validation-for="Email" class="text-danger"></span>
                                </div>
                        </div>
                    </div>

                    <!-- Additional Information Card -->
                    <div class="card mb-3">
                        <div class="card-header">Additional Information</div>
                        <div class="card-body">
                          <!-- Description -->
                                <div class="form-group mt-3">
                                    <label asp-for="Description" class="form-label">Description</label>
                                    <textarea asp-for="Description" class="form-control expandable-textarea" placeholder="Contact Description"></textarea>
                                    <span asp-validation-for="Description" class="text-danger"></span>
                                </div>
                                            <!-- PaymentTerms -->
                                    <div class="form-group mt-3">
                                        <label class="d-block">Payment Terms:</label>

                                        <!-- Radio button for Customer -->
                                        <div class="form-check">
                                            <input type="radio" id="customer" name="PaymentTerms" value="Customer" class="form-check-input"
                                            @(Model.PaymentTerms == "Customer" ? "checked" : "")>
                                            <label class="form-check-label" for="customer">Customer</label>
                                        </div>

                                        <!-- Radio button for Business Terms -->
                                        <div class="form-check">
                                            <input type="radio" id="businessterms" name="PaymentTerms" value="Business terms"
                                                class="form-check-input" @(Model.PaymentTerms == "Business terms" ? "checked" : "")>
                                            <label class="form-check-label" for="businessterms">Business terms</label>
                                        </div>

                                        <!-- Radio button for Contract Terms -->
                                        <div class="form-check">
                                            <input type="radio" id="contractterms" name="PaymentTerms" value="Contract terms"
                                                class="form-check-input" @(Model.PaymentTerms == "Contract terms" ? "checked" : "")>
                                            <label class="form-check-label" for="contractterms">Contract terms</label>
                                        </div>

                                        <!-- Radio button for Accounts Payable -->
                                        <div class="form-check">
                                            <input type="radio" id="accountspayable" name="PaymentTerms" value="Accounts payable"
                                                class="form-check-input" @(Model.PaymentTerms == "Accounts payable" ? "checked" : "")>
                                            <label class="form-check-label" for="accountspayable">Accounts payable</label>
                                        </div>
                        <!-- Validation Message -->
                        <span asp-validation-for="PaymentTerms" class="text-danger"></span>
                    </div>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <div class="form-group mt-3">
                        <button type="submit" class="btn btn-primary" aria-label="save">Create Customer</button>
                        <a class="btn btn-secondary" asp-action="Index">Cancel</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const expandableTextareas = document.querySelectorAll('.expandable-textarea');
            expandableTextareas.forEach(textarea => {
                textarea.addEventListener('input', function () {
                    this.style.height = 'auto';
                    this.style.height = (this.scrollHeight) + 'px';
                });
            });
        });
    </script>
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}

